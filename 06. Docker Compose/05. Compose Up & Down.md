# **Docker Compose Up & Down**

---

# ğŸš€ What This Lecture Teaches

You learn how to **start**, **stop**, and **clean up** services defined in a `docker-compose.yml` file using the essential commands:

* `docker-compose up`
* `docker-compose up -d`
* `docker-compose down`
* `docker-compose down -v`

---

# ğŸŸ¦ 1. Starting Services: `docker-compose up`

### Command:

```
docker-compose up
```

### What it does:

* Starts **all services** defined in `docker-compose.yml`.
* Builds images if needed.
* Pulls missing images.
* Creates:

  * **default network** â†’ `<project-folder>_default`
  * **named volumes** â†’ `<project-folder>_data` (for example)
* Runs in **attached mode**
  â†’ logs stream in the terminal
  â†’ stop with **Ctrl + C**

**Location matters:**
You must run the command **inside the folder** containing the Compose file.

---

# ğŸŸ© 2. Detached Mode: `docker-compose up -d`

### Command:

```
docker-compose up -d
```

### What it does:

* Starts all services **in the background**
* Terminal is free for other commands
* Very common when running multi-container apps

---

# ğŸŸ¥ 3. Stopping Services: `docker-compose down`

### Command:

```
docker-compose down
```

### What it does:

* Stops all running containers created by Compose
* Removes those containers
* Removes the default network
* **Does NOT delete volumes** (your data is safe)

---

# ğŸŸ§ 4. Removing Volumes Too: `docker-compose down -v`

### Command:

```
docker-compose down -v
```

### What it does:

* Everything from `docker-compose down`
* **Plus:** deletes all named volumes created by this project

Only use **`-v`** if youâ€™re okay losing persistent data.

---

# ğŸ—‘ï¸ 5. Extra Cleanup Shown in the Lecture (for demonstration)

Instructor runs:

```
docker image prune -a
docker container prune
```

This:

* removes all images not currently used
* removes all stopped containers

This is just to demonstrate how Compose creates everything from scratch.

---

# â­ Key Takeaways

* `docker-compose up`
  â†’ builds, pulls, creates networks/volumes, starts containers
  â†’ attached mode (Ctrl+C to stop)

* `docker-compose up -d`
  â†’ same as above but in detached mode

* `docker-compose down`
  â†’ stops and removes containers + networks
  â†’ keeps volumes

* `docker-compose down -v`
  â†’ also removes volumes (data loss!)

