# **Docker-Compose: What & Why?**

---

# ğŸš€ **What Docker Compose *Is***

**Docker Compose = A tool that lets you replace MANY `docker build` + `docker run` commands
with ONE configuration file + ONE command.**

You define all containers and their configuration in a file called:

```
docker-compose.yml
```

Then you run:

```
docker compose up
```

to start EVERYTHING, and:

```
docker compose down
```

to stop EVERYTHING.

---

# ğŸ¯ **Why Docker Compose Exists**

### Without Compose:

* You must run **many long commands**
  (`docker build`, `docker run` with ports, networks, env vars, volumesâ€¦)
* You must **copy/paste commands** or keep them in a text file.
* Multiple-container setups become **messy** and **hard to manage**.

### With Compose:

* You define everything **once** in a YAML file.
* You run **one command** to start all containers.
* You run **one command** to tear everything down.
* MUCH easier and consistent for development teams.

---

# ğŸ“¦ **What Docker Compose *Is Not***

Important boundaries:

### âŒ Compose does NOT replace Dockerfiles

* You STILL need Dockerfiles for building custom images.
* Compose just uses those Dockerfiles.

### âŒ Compose does NOT replace images or containers

* It only **orchestrates** them.

### âŒ Compose is NOT for multi-host cluster deployments

* Itâ€™s designed for **one machine (one host)**.
* Multi-host deployment will be covered later with Kubernetes / Swarm.

---

# ğŸ§± **The Compose File (docker-compose.yml)**

This is the heart of Docker Compose.

### The MOST important part of a compose file is:

## **services:**

A **service = a container definition**
(in everyday language: a container template in the compose file)

Under each service, you define:

* **image** OR **build** (Dockerfile)
* **ports**
* **environment variables**
* **volumes**
* **networks**
* **anything you would normally put into a `docker run` command**

> Compose basically **replaces running Docker commands manually**.

---

# ğŸ› ï¸ **Typical Structure of a Compose File**

You will see something like this:

```yaml
services:
  backend:
    build: ./backend
    ports:
      - "3000:3000"
    environment:
      - MONGO_URL=mongodb://mongo:27017/test
    volumes:
      - ./backend:/app
    networks:
      - app-network

  frontend:
    build: ./frontend
    ports:
      - "5173:5173"
    volumes:
      - ./frontend:/app
    networks:
      - app-network

  mongo:
    image: mongo
    volumes:
      - mongo-data:/data/db
    networks:
      - app-network

volumes:
  mongo-data:

networks:
  app-network:
```

*(You will build something like this later in the module.)*

---

# ğŸ“Œ **Commands You Will Use Most (IMPORTANT)**

### Start everything:

```
docker compose up
```

### Start everything in background:

```
docker compose up -d
```

### Stop and remove containers, network, volumes:

```
docker compose down
```

### Rebuild images if needed:

```
docker compose up --build
```

---

# ğŸ‰ **Summary**

Docker Compose:

âœ” Replaces many Docker commands with **one YAML file**
âœ” Starts/stops entire multi-container apps with **one command**
âœ” Works together with Dockerfiles, not instead of them
âœ” Best for **multiple containers on the same machine**
âœ” Makes development and teamwork MUCH easier
