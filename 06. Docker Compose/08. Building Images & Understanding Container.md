# ✅ **Building Images & Understanding Container Naming**

## **1. Useful docker-compose Commands**

### **`docker-compose up --build`**

* Forces Docker Compose to **rebuild images**, even if an image already exists.
* Useful if:

  * You changed app code
  * Docker doesn’t automatically detect that the image should be rebuilt
* Otherwise, Compose will reuse existing images to save time.

---

### **`docker-compose build`**

* Builds all custom images defined with the `build:` key **without starting containers**.
* Only builds images you create (those using `build:`), **not** images pulled from Docker Hub via `image:`.
* Useful when you want to:

  * Prepare images in advance
  * Check for build errors
  * Speed up the next `docker-compose up`

---

## **2. How `docker-compose up` Handles Images**

* When you run `docker-compose up`, Docker Compose will:

  * Build missing images (if needed)
  * Rebuild images only if changes are detected
  * Pull external images if they are missing locally

---

## **3. Container Names in Docker Compose**

### **Default Naming Convention**

Docker Compose automatically assigns names using the pattern:

```
<project-folder-name>_<service-name>_<index>
```

Example:

```
docker-complete_frontend_1
docker-complete_backend_1
docker-complete_mongo_1
```

* You **didn’t** choose these names explicitly — Compose generates them.
* The **service name** (e.g., `mongo`) appears inside these auto names.

---

## **4. Custom Container Names**

You can customize the container name using:

```yaml
container_name: my-mongo
```

After adding this key inside a service, Docker Compose will force that exact name.

For example:

```yaml
services:
  mongodb:
    container_name: mongodb
```

Then running:

```
docker-compose down
docker-compose up -d
```

will show the container named exactly `mongodb` in `docker ps`.

> Note: This disables Compose's automatic naming.
> Often it's fine to keep the default names unless you have a specific reason.

---

## **5. Why Docker Compose Is Powerful**

This wraps up the section by highlighting why Compose is useful:

* Centralizes configuration for multi-container apps
* Lets you start/stop entire environments with:

  * `docker-compose up`
  * `docker-compose down`
* Simplifies development workflows
* Automatically handles networks, volumes, builds, dependencies, etc.
