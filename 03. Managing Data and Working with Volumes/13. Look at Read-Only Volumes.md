# **What the Lecture Is Teaching**

The lecture explains **how to make a bind mount read-only**, why this is useful, and how to avoid accidentally blocking writes to folders that **should** remain writable inside the container.

---

# ğŸš« Problem: Bind Mount Gives the Container Too Much Power

When you bind-mount your entire project folder:

```
-v /path/to/project:/app
```

You basically say:

> â€œContainer, feel free to read *and write* anywhere inside `/app` (my project folder on my machine).â€

But thatâ€™s **not what we want**.

### âŒ The container should NOT modify your source code

Your code is your code â€” the container should not write into your JS/TS/HTML/etc. files.

### âœ”ï¸ The container **should** write to folders like:

* `/app/feedback`
* `/app/temp`

because your app saves data there.

---

# âœ… Solution: Make the Bind Mount **Read-Only**

You can add `:ro` to the bind mount:

```
-v /path/to/project:/app:ro
```

This means:

* The container can **read** everything inside `/app`
* The container **cannot write** inside `/app`
* YOU (on the host) can still edit your project normally
* Files cannot be modified by the app inside the container

This protects your source code from accidental changes.

---

# âš ï¸ BUT Problem: Now The App Can't Write to `/feedback` or `/temp`

Because `/app` is read-only, the subfolders `/app/feedback` and `/app/temp` also become read-only.

But your application needs to write to these folders.

---

# ğŸ§© How to Fix It: Add More Specific Volumes

Docker follows this rule:

> â€œA more specific sub-path volume overrides a broader volume.â€

So you add **extra volumes** for the writable folders.

### âœ”ï¸ For `/feedback` â†’ Already solved

You already mount a named volume:

```
-v feedback:/app/feedback
```

This overrides the read-only bind mount **for just that folder**, making it writable and persistent.

### âœ”ï¸ For `/temp` â†’ Add an anonymous volume

```
-v /app/temp
```

or

```
-v /app/temp:rw
```

This gives the container a writable temp folder.

### Important:

This override **must** be done in the `docker run` command, not in the Dockerfile, because Dockerfile changes do NOT override bind mounts.

---

# ğŸ§  Final Outcome

You end up with:

### âœ”ï¸ Source code (bind mount) â†’ Read-only

Container canâ€™t touch your files.

### âœ”ï¸ `/app/feedback` â†’ writable named volume

Used for persistent user feedback.

### âœ”ï¸ `/app/temp` â†’ writable anonymous volume

Used for temporary data, improves performance.

---

# ğŸ“Œ Why This Pattern Is Useful

* Prevents container from corrupting your source code
* Gives maximum clarity:

  * â€œThese folders are writableâ€
  * â€œEverything else is read-onlyâ€
* Improves performance by storing temp data on host filesystem
* Makes your volumes setup intentional and explicit
* Encourages best practices used in real production apps.
