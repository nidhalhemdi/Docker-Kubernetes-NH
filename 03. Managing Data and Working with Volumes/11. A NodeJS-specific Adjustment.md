#  **A NodeJS-specific Adjustment: Using Nodemon in a Container**

##  **Problem: HTML changes workâ€¦ but JS changes do NOT**


With a bind mount like:

```
-v /local/project:/app
```

your live code updates work **instantly** for files like HTML.

BUTâ€¦

When you modify `server.js`, nothing happens inside the running container.

Why?

### ğŸš« Node does NOT auto-reload JavaScript files

Node executes `server.js` once when the server starts.
After that, it **never reloads or watches for changes**.

So:

* You edit server.js
* The container is still running
* The server inside the container keeps using the old code
* No new logs appear

You can confirm this by running:

```
docker logs feedback-app
```

â¡ï¸ Nothing changes.

---

# ğŸ¤” **Solution Option 1: Restart the container each time**

You could stop the container and run it again:

```
docker stop feedback-app
docker run ...
```

â€¦but this is annoying during development.

---

# ğŸš€ **Real Solution: Use Nodemon**

Nodemon is a Node.js development tool that:

* watches your files for changes
* automatically restarts the Node process

So inside the project, you add:

### 1. Add Nodemon as a dev dependency

In `package.json`:

```
"devDependencies": {
  "nodemon": "2.0.4"
}
```

### 2. Add a start script

```
"scripts": {
  "start": "nodemon server.js"
}
```

### 3. Update your Dockerfile to use this script

Replace:

```
CMD ["node", "server.js"]
```

with:

```
CMD ["npm", "start"]
```

Now Docker will run nodemon automatically.

---

# ğŸ”¥ **Result: Auto-reloading inside the container**

Now when you:

* change server.js
* save the file

Nodemon detects the change and restarts Node **inside the running container**.

No need to rebuild the image.
No need to restart the container.
Live updates for your Node code.

### âœ”ï¸ Live reload for HTML (thanks to bind mount)

### âœ”ï¸ Live reload for JS (thanks to nodemon)

### âœ”ï¸ Perfect container-based development workflow

---

# âš ï¸ **Special Note for Windows + WSL2 Users**

If Docker runs inside WSL2 and your project is stored in the *Windows* filesystem:

```
C:\Users\you\project
```

then file changes **do NOT propagate reliably** into Linux.

This means nodemon doesnâ€™t detect changes.

### Fix:

Move the project into the Linux filesystem:

```
/home/<user>/project
```

Then nodemon detects changes correctly.

---

# ğŸ‰ Summary

| Problem                         | Cause                      | Solution                          |
| ------------------------------- | -------------------------- | --------------------------------- |
| JS changes not detected         | Node doesnâ€™t auto-reload   | Use nodemon                       |
| Must restart container manually | Server doesnâ€™t reload      | Nodemon restarts automatically    |
| Nodemon not working on Windows  | WSL2 filesystem sync issue | Store project in Linux filesystem |

