# Why Named Volumes Finally Solve the Problem

Previously, when you used:

```dockerfile
VOLUME ["/app/feedback"]
```

Docker created an **anonymous volume**, which:

* has a random, auto-generated name
* is attached only to that one container
* is automatically deleted when the container is deleted
* cannot be reused by new containers

â¡ï¸ **So your data didnâ€™t persist across container restarts.**

Named volumes fix this entirely.

---

# ğŸ§± What Named Volumes Are

A **named volume** is a Docker-managed storage folder that:

* lives on your host machine
* survives container shutdown
* can be reused by new containers
* stores persistent data
* is *not* deleted automatically

It behaves just like anonymous volumes **except it does NOT get deleted** when the container is removed.

This is exactly what you need for persistent storage.

---

# ğŸ§© How Named Volumes Work

When you run:

```bash
docker run -v feedback:/app/feedback ...
```

You tell Docker:

* create/use a volume named **feedback**
* map it inside the container at `/app/feedback`
* keep the volume even if the container dies
* when a new container uses `-v feedback:/app/feedback`, use the same stored data

The syntax:

```
<volume_name>:<path_inside_container>
```

---

# ğŸ” Recap of the Lecture Steps

### âœ… Step 1 â€” Remove the `VOLUME` instruction from the Dockerfile

Why?

Because you **cannot** declare named volumes in a Dockerfile.
You must create them **at runtime**, using the `docker run` command.

---

### âœ… Step 2 â€” Build the image again

No change here except that the anonymous volume instruction is gone.

---

### âœ… Step 3 â€” Run the container with a **named volume**

```bash
docker run -d --rm \
  -p 3000:80 \
  -v feedback:/app/feedback \
  --name feedback-app \
  feedback-node:volumes
```

---

### âœ… Step 4 â€” Test persistence

* Submit feedback
* The app writes a file to `/app/feedback`
* Docker maps that folder to a managed volume named `feedback`

---

### âœ… Step 5 â€” Stop and remove container

```bash
docker stop feedback-app
```

The container disappearsâ€”but the volume **survives**.

---

### âœ… Step 6 â€” Check the volume exists

```bash
docker volume ls
```

You see:

```
feedback
```

This proves persistence works.

---

### âœ… Step 7 â€” Start a **new** container using the same named volume

```bash
docker run -d --rm \
  -p 3000:80 \
  -v feedback:/app/feedback \
  --name feedback-app \
  feedback-node:volumes
```

Refresh the browser â†’
The file is STILL THERE âœ”

---

# ğŸ‰ Why Named Volumes Are the Correct Solution Here

### âœ” Data survives container shutdown

### âœ” New containers can reuse the same data

### âœ” Completely managed by Docker

### âœ” Works perfect for data that MUST persist but DOESNâ€™T need manual editing

### âœ” Solves the problem that anonymous volumes failed to solve

---

# ğŸ“ When to Use Named Volumes

Use named volumes for:

* database data
* uploaded files
* app-generated files
* logs
* anything that **must persist**, but you donâ€™t need to open/edit directly on your host OS

---

# ğŸ”® Whatâ€™s Coming Next?

Later lectures will introduce:

## ğŸ§° Bind Mounts

A second storage mechanism that:

* maps a host machine folder you choose
* allows live editing of files from your machine
* is perfect for development environments
* but **unsafe** for production
