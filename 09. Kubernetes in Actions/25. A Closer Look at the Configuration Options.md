# **A Closer Look at Container Configuration Options in Kubernetes**

This lecture explains that Kubernetes containersâ€”just like Docker containersâ€”can be configured with many options. These options control how containers run **inside the cluster**, similar to how Docker Compose controls container execution locally.

---

## ğŸ§± **1. Kubernetes Container Config Is Similar to Docker & Docker Compose**

Inside the Deployment â†’ Pod â†’ Container section, you can configure:

* The command executed at container startup
* The image
* Environment variables
* Ports
* Volume mounts
* and many more options

Many of these mirror what you can configure with:

* `docker run`
* `docker-compose.yaml`

But Kubernetes adds cluster-specific features too.

---

## ğŸ”„ **2. Image Pull Policy (Very Important)**

A key setting discussed is:

```yaml
imagePullPolicy: Always
```

### How image pulling works:

* If your image tag is **`latest`**, Kubernetes *should* always pull the newest image.
* But when using a **custom tag** like `:2`, Kubernetes **wonâ€™t pull a new image version** unless:

  * you change the tag
  * **or** you explicitly set:

```yaml
imagePullPolicy: Always
```

### When set to `Always`:

Kubernetes **always re-pulls** the image, even if the tag stays the same.

---

## ğŸ” **3. Demonstration: Updating the app with the same tag**

The instructor:

1. Updated the code.
2. Rebuilt the Docker image:

   ```
   docker build -t repo/kub-first-app:2 .
   ```
3. Pushed it to the registry.
4. Applied the same deployment config (same tag `:2`).
5. Because `imagePullPolicy: Always` is now set, Kubernetes **pulled the updated image** and rolled out the update.

You can see the rolling update taking place with:

```
kubectl get pods
```

One pod terminates, a new one starts â†’ **rolling update triggered**.

---

## ğŸ“š **4. The Container & Pod Spec Has Many Options**

Kubernetes offers a huge number of configuration options in the:

* **Container spec**
* **Pod spec**

Most options are rarely needed, but itâ€™s good to browse the docs occasionally to see whatâ€™s available.

Examples in the docs include:

* Command overrides
* Resource limits (CPU/memory)
* Volume mounts
* Environment variable sources (ConfigMaps, Secrets)
* Probe configuration
* Security options

You donâ€™t need all of them nowâ€”just know they exist.

---

## ğŸ—‘ï¸ **5. Wrapping Up the Module**

At the end, the instructor:

* Deletes the current resources:

  ```
  kubectl delete -f deployment.yaml -f service.yaml
  ```
* Prepares to move to the next module, which dives deeper into Kubernetes.
