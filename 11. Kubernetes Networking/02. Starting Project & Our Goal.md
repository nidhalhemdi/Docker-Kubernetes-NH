# **Starting Project & Our Goal**

### **Overview of the Demo Application**

The project consists of **three Node.js backend APIs**, each running in its own container:

1. **Auth API**

   * Generates & verifies authentication tokens.
   * Dummy logic (no real DB).
   * Will *not* be exposed to the outside world.
   * Other APIs call it internally.

2. **Users API**

   * Creates users, logs them in.
   * Uses **Auth API** to generate tokens for new/logged-in users.
   * Will be publicly reachable.
   * Runs in the **same pod** as Auth API (initially) → pod-internal communication.

3. **Tasks API**

   * Gets/stores tasks (in a dummy file).
   * Needs a valid token → contacts Auth API to verify it.
   * Runs in a **separate pod**, exposed publicly.

### **Initial Architecture (Starting Point)**

* **Pod 1**

  * Contains **Users API** + **Auth API**
  * Users API is public
  * Auth API is *internal-only*, reachable only from inside the pod (via localhost)

* **Pod 2**

  * Contains the **Tasks API**
  * Publicly reachable

→ Later, this architecture will be refined, but this is the starting point.

---

# **Goal of the Module**

* Learn how to connect:

  * Containers *inside the same pod*
  * Pods *across the cluster*
  * Expose certain services safely to the outside world
* Start with a minimal setup: **Users API running alone**, just ensuring it works in Kubernetes before adding communication logic.

---

# **Local Testing (Docker Compose)**

Before using Kubernetes, you can test everything using Docker Compose (already provided in the project).

### **Commands**

```bash
docker compose up -d --build
docker compose down
```

### **API Request Examples**

Use Postman (or curl) to test:

#### **Users API login**

```
POST localhost:8080/login
Body: { "email": "...", "password": "..." }
```

* Users API → contacts Auth API internally → returns token.

#### **Tasks API**

* Create task:

```
POST localhost:8000/tasks
Body: { "title": "...", "text": "..." }
```

* Fetch tasks:

```
GET localhost:8000/tasks
```

#### **Auth API**

* Direct requests *fail* — not exposed publicly (intentional).

### **Note**

* No volumes → data is lost when you run `docker compose down`.
* This module focuses on **networking & service communication**, *not* storage.

---

# **Next Step**

We shut down Docker Compose and rebuild everything using **Kubernetes manifests**, starting with the **Users API**.
