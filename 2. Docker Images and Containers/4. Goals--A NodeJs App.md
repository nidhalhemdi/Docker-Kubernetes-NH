# **Goals: A Node.js App (Why We Build Our Own Image)**

## ğŸ”¹ Why We Need Our Own Image

Running a pre-built image like `node` is useful for demos, but in real projects:

* You want to **run your own application code**
* That code does **not** exist on Docker Hub
* So you must **build your own image**
* You usually **start from an official base image**
  Example: `node`, `python`, `php`, `golang`

Typical pattern:

```
Base image (node)  â†’  Add your app files  â†’  Install dependencies  â†’  Build your image
```

This custom image can then be used to start containers that run **your app**.

---

## ğŸ”¹ Example App: Simple Node.js Web Server

We provide here a tiny Node.js project to demonstrate Dockerization.
Files included:

### **1. server.js**

* Starts a Node.js server on **port 80**
* Handles:

  * `GET /` â†’ returns HTML
  * `POST /store-goal` â†’ reads submitted "goal", logs it, stores it in memory, redirects back to `/`
* Uses Nodeâ€™s `express` and `body-parser` packages
* Not important to understand Node; the goal is to Dockerize it

### **2. public/style.css**

* Static CSS file
* Served via Express from the `/public` folder

### **3. package.json**

* Describes dependencies:

  ```json
  "express"
  "body-parser"
  ```
* Required by Node to install libraries with `npm install`

### (Optional) **.gitignore**

Used if youâ€™re using Git, irrelevant to Docker.

---

## ğŸ”¹ How You Would Run This App *Without* Docker

(Just for contrastâ€”helps understand why Docker is useful.)

1. Install Node.js from nodejs.org

2. In project folder, run:

   ```bash
   npm install
   ```

   This creates:

   * `node_modules/`
   * `package-lock.json`

3. Start server manually:

   ```bash
   node server.js
   ```

4. Visit the app at:
   **[http://localhost:80](http://localhost:80)**

---

## ğŸ”¹ Resetting Before Dockerizing

We remove installed items to start fresh:

Delete:

* `node_modules/`
* `package-lock.json`

These will be installed **inside the Docker image instead**.

---

## ğŸ”¹ What We Are About to Do

We will:

1. Use the official **Node.js base image**
2. Copy our project files into the image
3. Install Node dependencies **inside the image**
4. Define a command to run `server.js`
5. Build the image
6. Run the app in a container

This requires creating a **Dockerfile**, which is covered next.

---

## ğŸ”¹ Key Takeaway

* You rarely run images â€œas is.â€
* Real-world development â†’ You build **custom images** combining:

  * A **base image** (Node, Python, etc.)
  * **Your application code**
  * **Your dependencies**

This results in a portable, reproducible environment that runs the same everywhere.
