# **Dockerizing the MongoDB Service**

## **ðŸŽ¯ Goal**

Replace the locally installed MongoDB with a **MongoDB container**, while the backend (Node API) is still running *outside* of Docker.

---

# **1. Start a MongoDB Container (Basic Setup)**

### **Official image:** `mongo`

Pulled automatically from Docker Hub.

### **Basic command:**

```bash
docker run mongo
```

But we improve it with:

* `--name` â†’ easier reference
* `--rm` â†’ remove container when stopped
* `-d` â†’ run detached
* `-p 27017:27017` â†’ expose MongoDB to host machine
  (because the backend is **not dockerized yet** and expects to reach MongoDB via `localhost`)

### **Final command used:**

```bash
docker run -d --name mongodb --rm -p 27017:27017 mongo
```

---

# **2. Why Expose Port 27017?**

Because:

* Backend (Node.js) is still running locally on the host.
* It connects using `localhost:27017`.
* Without `-p 27017:27017`, the backend **canâ€™t reach** the MongoDB container.

MongoDB **exposes port 27017** internally, so mapping is allowed.

---

# **3. Clean Up Old Containers**

To avoid conflicts:

```bash
docker container prune
```

---

# **4. Verify Container is Running**

```bash
docker ps
```

---

# **5. Test the Connection**

Restart the backend:

```bash
cd backend
node app.js
```

Backend successfully connects â†’ proof that:

* Local MongoDB is shut down
* Backend is actually connecting to the **MongoDB container**

---

# **6. Inspect MongoDB Logs**

To confirm connections:

```bash
docker logs mongodb
```

You will see a message indicating a connection from the Node.js API.

---

# **âœ” Result**

MongoDB is now **fully dockerized**, and local backend + frontend still work by connecting through your host machine.

This completes the database container setup.
